(window.webpackJsonp=window.webpackJsonp||[]).push([[46,17],{"26312ce1bad8433afe4d":function(e,t,a){"use strict";a("8af190b70a6bc55c6f1b");var i,n=a("0b3cb19af78752326f59"),o=(a("8a2d1b95e05b6a321e74"),a("2aea235afd5c55b8b19b")),r=a.n(o),c=a("c26c999145b031a82ff2");var d=Object(n.c)(r.a).withConfig({displayName:"BlueButton__StyledButton",componentId:"sc-137i1cs-0"})(["&&{border-radius:30px;padding:12px 18px;font-family:",";letter-spacing:0.2px;background-color:",";color:#fff;}"],c.a.typography.fontFamily,function(e){return e.theme.colors.blue});t.a=function(e){var t=e.fullWidth,a=void 0!==t&&t,n=e.onClick,o=e.children,r=e.disabled,c=void 0!==r&&r,l=e.style;return function(e,t,a,n){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});if(1===r)t.children=n;else if(r>1){for(var d=new Array(r),l=0;l<r;l++)d[l]=arguments[l+3];t.children=d}return{$$typeof:i,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}(d,{color:"primary",fullWidth:a,onClick:n,variant:"contained",disabled:c,style:void 0===l?{}:l},void 0,o)}},"277e5244b4cd13318e84":function(e,t,a){"use strict";var i=a("26312ce1bad8433afe4d");a.d(t,"a",function(){return i.a});var n=a("c3743a2796be2e661537");a.d(t,"c",function(){return n.a});var o=a("5f3bcc156425ba0909d6");a.d(t,"b",function(){return o.a})},"34b714e82348e8807778":function(e,t,a){"use strict";var i=a("4b0827ba98a59b4ddf48");t.a={loadCandidateAction:function(e,t,a){return{type:i.a.LOAD_CANDIDATE,id:e,chamber:t,isIncumbent:a}},loadCandidateActionSuccess:function(e){return{type:i.a.LOAD_CANDIDATE_SUCCESS,candidate:e}},loadCandidateActionError:function(e){return{type:i.a.LOAD_CANDIDATE_ERROR,error:e}},saveRankPresidentialCandidateAction:function(e){return{type:i.a.SAVE_RANK_PRESIDENTIAL_CANDIDATE,presidentialRank:e}},saveRankSenateCandidateAction:function(e,t){return{type:i.a.SAVE_RANK_SENATE_CANDIDATE,senateRank:e,state:t}},saveRankHouseCandidateAction:function(e,t,a){return{type:i.a.SAVE_RANK_HOUSE_CANDIDATE,houseRank:e,state:t,district:a}},loadRankingFromCookieAction:function(){return{type:i.a.LOAD_RANKING_FROM_COOKIE}},loadDistrictIncumbentAction:function(e,t){return{type:i.a.LOAD_DISTRICT_INCUMBENT,state:e,district:t}},loadDistrictIncumbentActionSuccess:function(e){return{type:i.a.LOAD_DISTRICT_INCUMBENT_SUCCESS,incumbent:e}}}},ccfb5366c8a9da0284aa:function(e,t,a){"use strict";a("8af190b70a6bc55c6f1b");var i,n=a("0b3cb19af78752326f59"),o=(a("8a2d1b95e05b6a321e74"),a("c82f135c42c3c148fae5")),r=a.n(o),c=a("c552c8159555a669ceef");function d(e,t,a,n){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});if(1===r)t.children=n;else if(r>1){for(var d=new Array(r),l=0;l<r;l++)d[l]=arguments[l+3];t.children=d}return{$$typeof:i,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var l=n.c.div.withConfig({displayName:"LoadingAnimation__Wrapper",componentId:"sc-1157h9v-0"})(["display:flex;justify-content:center;align-items:center;height:calc(100vh - 75px - 4rem);width:100%;flex-direction:column;"]),f=d("br",{}),u=d(r.a,{});t.a=function(e){var t=e.label;return d(l,{},void 0,t&&d(c.i,{},void 0,t,f,"\xa0"),u)}},f322c1244f8b3d66a3e5:function(e,t,a){"use strict";a.r(t);var i,n=a("8af190b70a6bc55c6f1b"),o=a.n(n),r=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),c=a("0d7f0986bcd2f33d8a2a"),d=a("ab4cb61bcb2dc161defb"),l=a("3aced5b508e7389026da"),f=a("adc20f99e57c573c589c"),u=a("d95b0cf107403b178365"),p=a("a08b6f3095f8d186887e"),s=a("b89e9de4c18a239d2ec9"),b=a("ce1f99bfa2a056d9bb4e"),m=a("967734c1469b288bf3b9"),v=a("a28fc3c963a1d4d1a2e5"),y=a("0b3cb19af78752326f59"),h=a("e95a63b25fb92ed15721"),g=a("083d6914129797192aa6"),C=a.n(g),k=a("9b4cf02f7f3c4453e043"),w=a.n(k),_=a("e727e731a9bed8ec3c2a"),S=a.n(_),A=a("10e4c616cb3b01bafafd"),E=a.n(A),P=a("1551459233b95bf53af9"),x=a.n(P),I=a("1e579025aece93aebe67"),N=a.n(I),O=a("eb6b79030a47f0b10efc"),D=a.n(O),R=a("2aea235afd5c55b8b19b"),j=a.n(R),z=a("4f63810a1acdc6ac1109"),W=a.n(z),T=a("1f1eb6ee9b99b33d3627"),L=a("0e3eab9fe12a0cc7b2ce"),B=a("c552c8159555a669ceef"),F=a("ccfb5366c8a9da0284aa"),$=a("42d8ca6a57115f43cba8"),U=a.n($),V=a("c7fd554010f79f6c0ef8"),K=a.n(V),G=a("6ab13bdf62b7e849f797"),H=a.n(G),M=function(e){if(!e)return"";var t=e.replace(/\D/g,"").substring(0,10),a=t.substring(0,3),i=t.substring(3,6),n=t.substring(6,10);return t.length>6?"(".concat(a,") ").concat(i," - ").concat(n):t.length>3?"(".concat(a,") ").concat(i):t.length>0?"(".concat(a):void 0},J=a("3ed81f8d24b90b29f580"),q=Object(J.a)(function(){return Promise.all([a.e(27),a.e(24),a.e(64)]).then(a.bind(null,"7119ba69913d994c152f"))}),Q=a("277e5244b4cd13318e84"),X=a("6eb0b7ea50d975504be2"),Y=a("b846cd21cedd46042c6a");function Z(e,t,a,n){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});if(1===r)t.children=n;else if(r>1){for(var d=new Array(r),l=0;l<r;l++)d[l]=arguments[l+3];t.children=d}return{$$typeof:i,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var te,ae=y.c.div.withConfig({displayName:"EditProfileWrapper__Row",componentId:"sc-58zpd2-0"})(["display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;"]),ie=Object(y.c)(B.i).withConfig({displayName:"EditProfileWrapper__UserInitials",componentId:"sc-58zpd2-1"})(["cursor:pointer;height:70px;width:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;background-color:",";text-transform:uppercase;margin-bottom:12px;position:relative;overflow:hidden;@media only screen and (min-width:","){height:100px;width:100px;}"],function(e){return e.theme.colors.lighterBlue},function(e){return e.theme.breakpoints.md}),ne=y.c.div.withConfig({displayName:"EditProfileWrapper__Camera",componentId:"sc-58zpd2-2"})(["position:absolute;background-color:rgba(0,0,0,0.5);width:100px;text-align:center;color:#fff;bottom:0;"]),oe=Object(y.c)(K.a).withConfig({displayName:"EditProfileWrapper__Input",componentId:"sc-58zpd2-3"})(["&&{margin-bottom:48px;.MuiInputBase-input{line-height:22px;font-size:16px;letter-spacing:0.1px;@media only screen and (min-width:","){font-size:20px;line-height:26px;}}}"],function(e){return e.theme.breakpoints.md}),re=y.c.form.withConfig({displayName:"EditProfileWrapper__Form",componentId:"sc-58zpd2-4"})(["margin-top:2rem;"]),ce=Object(y.c)(B.e).withConfig({displayName:"EditProfileWrapper__StyledBody14",componentId:"sc-58zpd2-5"})(["color:",";"],function(e){return e.theme.colors.blue}),de=Object(y.c)(B.a).withConfig({displayName:"EditProfileWrapper__Address",componentId:"sc-58zpd2-6"})(["margin-top:8px;"]),le=y.c.div.withConfig({displayName:"EditProfileWrapper__PrivateWrapper",componentId:"sc-58zpd2-7"})(["margin-top:48px;background-color:#f2f2f2;width:100vw;margin-left:-16px;padding 16px;@media only screen and (min-width:","){width:auto;}"],function(e){return e.theme.breakpoints.md}),fe=y.c.div.withConfig({displayName:"EditProfileWrapper__Private",componentId:"sc-58zpd2-8"})(["display:flex;align-items:center;color:",";margin-bottom:6px;"],function(e){return e.theme.colors.gray4}),ue=y.c.div.withConfig({displayName:"EditProfileWrapper__Verified",componentId:"sc-58zpd2-9"})(["color:",";"],function(e){return e.theme.colors.green}),pe=y.c.div.withConfig({displayName:"EditProfileWrapper__PhoneWrapper",componentId:"sc-58zpd2-10"})(["margin:20px 0 36px;"]),se=Object(y.c)(B.b).withConfig({displayName:"EditProfileWrapper__AddPhoneLabel",componentId:"sc-58zpd2-11"})(["color:rgba(0,0,0,0.54);font-weight:500;"]),be=Object(y.c)(B.a).withConfig({displayName:"EditProfileWrapper__AddPhone",componentId:"sc-58zpd2-12"})(["color:",";margin-top:10px;padding-bottom:16px;border-bottom:solid 1px ",";cursor:pointer;"],function(e){return e.theme.colors.blue},function(e){return e.theme.colors.gray9}),me=y.c.div.withConfig({displayName:"EditProfileWrapper__AlertWrapper",componentId:"sc-58zpd2-13"})(["border:solid 1px red;"]),ve=Z("div",{},void 0,Z(L.a,{}),Z(F.a,{})),ye=Z(B.g,{"data-cy":"title"},void 0,"Edit Profile"),he=Z(B.b,{"data-cy":"congress-district-title"},void 0,"Congressional District"),ge=Z(fe,{},void 0,Z(B.i,{"data-cy":"private-info-title"},void 0,"Private Info\xa0"),Z(H.a,{})),Ce=Z(B.b,{"data-cy":"private-info-description"},void 0,"Not shown anywhere, only used for login and contact"),ke=Z("br",{}),we=Z(se,{"data-cy":"phone-label"},void 0,"Phone Number"),_e=Z(ue,{},void 0,"VERIFIED"),Se=Z(D.a,{id:"alert-dialog-title","data-cy":"district-change-title"},void 0,Z(W.a,{})," District Change"),Ae=Z(x.a,{},void 0,Z(N.a,{id:"alert-dialog-description","data-cy":"district-change-description"},void 0,"If you proceed, your previous district's ranked choices will be discarded.")),Ee=function(e){var t=e.user,a=e.updateProfileCallback,i=e.updatePhotoCallback,r=e.deleteRankingCallback;if(!t)return ve;var c=t.name,d=t.feedback,l=t.zipCode,f=t.isEmailVerified,u=t.congDistrict,p=!!t.phone&&M(t.phone),s=t.email,b=ee(Object(n.useState)(p),2),m=b[0],v=b[1],y=ee(Object(n.useState)(s),2),g=y[0],k=y[1],_=ee(Object(n.useState)(!1),2),A=_[0],P=_[1],x=ee(Object(n.useState)(c),2),I=x[0],N=x[1],O=ee(Object(n.useState)(d),2),D=O[0],R=O[1],z=ee(Object(n.useState)(!1),2),W=z[0],L=z[1],B=ee(Object(n.useState)(!1),2),F=B[0],$=B[1],V=ee(Object(n.useState)(!1),2),K=V[0],G=V[1],H=/^(\([0-9]{3}\))\s[0-9]{3}\s-\s[0-9]{4}$/,J=l||{},te=J.stateLong,fe=J.cds,ue=J.primaryCity,se=Object(Y.d)(u,fe),Ee=function(){if(Ie()){var e={};I!==c&&(e.name=I),D!==d&&(e.feedback=D),a(e)}},Pe=function(){var e={};A!==m&&(e.phone=A),g!==s&&xe()&&(e.email=g),a(e)},xe=function(){return/\S+@\S+\.\S+/.test(g)},Ie=function(){return I!==c||D!==d},Ne=function(){G(!1)};return Z(T.a,{white:!0},void 0,Z(w.a,{smDown:!0},void 0,Z(h.Link,{to:"/you","data-cy":"back-link"},void 0,Z(C.a,{style:{fontSize:"34px"}}))),t&&o.a.createElement(o.a.Fragment,null,Z(ae,{},void 0,ye,Z(ie,{onClick:function(){$(!0)}},void 0,Z(X.a,{user:t,size:"large"}),Z(ne,{},void 0,Z(U.a,{style:{fontSize:"18px"}})))),Z(re,{noValidate:!0,onSubmit:function(e){e.preventDefault(),Ee()},"data-cy":"profile-form"},void 0,Z(oe,{value:I,label:"Name",required:!0,size:"medium",fullWidth:!0,onChange:function(e){N(e.target.value)},helperText:"Only your last initial will ever be shown","data-cy":"new-name"}),Z(oe,{value:D,label:"Share any thoughts about The Good Party",size:"medium",multiline:!0,fullWidth:!0,onChange:function(e){R(e.target.value)},"data-cy":"new-feedback"}),Z(Q.a,{fullWidth:!0,disabled:!Ie(),onClick:Ee,"data-cy":"profile-save"},void 0,"Save")),Z(ae,{style:{marginTop:"48px"}},void 0,he,Z(ce,{onClick:function(){G(!0)},"data-cy":"edit-district"},void 0,"Edit")),Z(de,{"data-cy":"address1"},void 0,ue,se&&", ".concat(se)," "),Z(de,{"data-cy":"address2"},void 0,te," ",l&&l.zip),Z(le,{},void 0,ge,Ce,ke,!m&&!W&&Z(pe,{},void 0,we,Z(be,{onClick:function(){return L(!0)},"data-cy":"add-phone"},void 0,"Add Phone")),Z("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),Pe()},"data-cy":"private-info-form"},void 0,(m||W)&&Z(pe,{},void 0,Z(oe,{value:m,label:"Phone",size:"medium",autoFocus:W,fullWidth:!0,onChange:function(e){var t=M(e.target.value);v(t);var a=H.test(t);P(!!a&&t.replace(/\D/g,"").substring(0,10))},style:{marginBottom:"24px"},"data-cy":"new-phone"})),Z(oe,{value:g,onChange:function(e){k(e.target.value)},label:"Email",size:"medium",fullWidth:!0,style:{marginBottom:"16px"},"data-cy":"new-email"}),f&&g===s&&_e,Z(Q.a,{fullWidth:!0,disabled:!(A&&m!==p||xe()&&g!==s),onClick:Pe,style:{margin:"24px 0"},"data-cy":"private-info-submit"},void 0,"Save"))),Z(S.a,{onClose:Ne,"aria-labelledby":"Ranking not Allowed",open:K},void 0,Z(me,{},void 0,Se,Ae,Z(E.a,{},void 0,Z(j.a,{onClick:Ne,color:"primary","data-cy":"modal-cancel"},void 0,"Cancel"),Z(j.a,{onClick:function(){r(t),Ne()},color:"primary",autoFocus:!0,"data-cy":"modal-proceed"},void 0,"Proceed"))))),F&&Z(q,{closeCallback:function(){$(!1)},selectImageCallback:function(e){i(e)}}))},Pe=a("34b714e82348e8807778");function xe(e,t,a,i){te||(te="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);else t||(t=n||{});if(1===o)t.children=i;else if(o>1){for(var c=new Array(o),d=0;d<o;d++)c[d]=arguments[d+3];t.children=c}return{$$typeof:te,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}a.d(t,"EditProfilePage",function(){return Ne});var Ie=xe(c.Helmet,{},void 0,xe("title",{"data-cy":"page-title"},void 0,"Edit Profile | The Good Party"),xe("meta",{name:"description",content:"Edit Profile | The Good Party"}));function Ne(e){var t=e.userState,a=e.updateProfileCallback,i=e.updatePhotoCallback,n=e.deleteRankingCallback;Object(u.a)({key:"user",reducer:s.a}),Object(f.a)({key:"user",saga:b.a});var r={user:t.user,updateProfileCallback:a,updatePhotoCallback:i,deleteRankingCallback:n};return xe("div",{},void 0,Ie,o.a.createElement(Ee,r))}var Oe=Object(v.b)({userState:Object(p.a)()}),De=Object(r.connect)(Oe,function(e){return{dispatch:e,updateProfileCallback:function(t){e(m.a.updateUserAction(t))},updatePhotoCallback:function(t){t&&t.pictureFile&&t.pictureData&&e(m.a.uploadAvatarAction(t.pictureFile,t.pictureData,!1))},deleteRankingCallback:function(t){if(t&&t.shortState&&t.districtNumber){var a=t.shortState,i=t.districtNumber;e(Pe.a.saveRankHouseCandidateAction([],a,i))}if(t&&t.shortState){var n=t.shortState;e(Pe.a.saveRankSenateCandidateAction([],n)),e(m.a.deleteAllUserRankingsAction())}e(Object(l.push)("/intro/zip-finder"))}}});t.default=Object(d.compose)(De,n.memo)(Ne)}}]);